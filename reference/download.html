<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Download agricultural, environmental, or satellite data for a region and time
of interest."><title>Download data — download • cronus</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Download data — download"><meta property="og:description" content="Download agricultural, environmental, or satellite data for a region and time
of interest."><meta property="og:image" content="https://agesofman.github.io/cronus/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cronus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/cronus.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Data.html">Data</a>
    <a class="dropdown-item" href="../articles/Examples.html">Examples</a>
    <a class="dropdown-item" href="../articles/hermes.html">hermes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/agesofman/cronus/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Download data</h1>
      <small class="dont-index">Source: <a href="https://github.com/agesofman/cronus/blob/HEAD/R/download.R" class="external-link"><code>R/download.R</code></a></small>
      <div class="d-none name"><code>download.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download agricultural, environmental, or satellite data for a region and time
of interest.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for Quickstats</span></span>
<span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="va">variable</span>, ringname <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for Cropmaps</span></span>
<span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, variable <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for Daymet</span></span>
<span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, variable <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for Satellite</span></span>
<span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, ringname <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>S4 object. The product of interest.</p></dd>


<dt>...</dt>
<dd><p>extra arguments.</p></dd>


<dt>variable</dt>
<dd><p>character. The variable of interest.</p></dd>


<dt>ringname</dt>
<dd><p>character. A keyring to handle the provider credentials.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For most products, nothing is returned. The data are saved directly
in the cronus database. For lightweight data (such as variables of the
Quickstats product), the downloaded data are returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Currently, the function can download:</p><ul><li><p>The Quickstats product of NASS.</p></li>
<li><p>The Cropland Data Layer variable of NASS.</p></li>
<li><p>The Daymet product of ORNL.</p></li>
<li><p>The MOD09GA and MYD09GA products of MODIS.</p></li>
<li><p>The Landsat TM, ETM and 8 products.</p></li>
<li><p>The Sentinel-2 MSI and Sentinel-3 Synergy products.</p></li>
</ul><p>Details concerning the Quickstats product:
The function is a wrapper of the <code>nassqs()</code> function from the <code>rnassqs</code>
package. In order to download the data, an API key is required; information
can be found in the <code>rnassqs</code> package vignette.</p>
<p>Details concerning the Daymet product:
The S4 class <code>Daymet</code> can be used to handle data of the daymet product. It is
a wrapper of the <code>get_daymet()</code> function from the <code>FedData</code> package.</p>
<p>Details concerning the satellite sector:
This function uses the <code><a href="https://docs.ropensci.org/rsat/reference/rsat_search.html" class="external-link">rsat::rsat_search()</a></code> function to search for available
products in the requested dates. Then, it recursively calls
<code><a href="https://docs.ropensci.org/rsat/reference/rsat_download.html" class="external-link">rsat::rsat_download()</a></code> and <code><a href="https://docs.ropensci.org/rsat/reference/rsat_mosaic.html" class="external-link">rsat::rsat_mosaic()</a></code> to download and mosaic the
data, before deleting the original hdf files to save disk space. The
satellite data are extracted in GeoTiff format (zipped).
The recursive call of the function has a slight performance impact, but it is
crucial in order to download data over large regions and periods of time.
For example, assume we want to download the MOD09GA product for the state of
Nebraska for one day. The (3) hdf files required combined surpass 250MB of
memory space, while the mosaiced, zipped Geotiff images take about 15MB.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Define required variables</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu"><a href="Region-class.html">Region</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"nebraska"</span>, type <span class="op">=</span> <span class="st">"us state"</span>,</span></span>
<span class="r-in"><span>                 div <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"United States"</span>, state <span class="op">=</span> <span class="st">"Nebraska"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_toi.html">date_seq</a></span><span class="op">(</span><span class="st">"2002-01-01"</span>, <span class="st">"2002-12-31"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Quickstats Progress</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the object</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Quickstats"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the data</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="st">"progress"</span>, <span class="va">ringname</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="st">"Corn"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Corn</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot the data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">data</span>, crops <span class="op">=</span> <span class="st">"Winter Wheat"</span>, year <span class="op">=</span> <span class="fl">2021</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Cropmaps CDL</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the object</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Cropmaps"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the data</span></span></span>
<span class="r-in"><span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="st">"cdl"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Daymet</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the object</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Daymet"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the data</span></span></span>
<span class="r-in"><span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tmin"</span>, <span class="st">"tmax"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## MOD09GA</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the object</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Mod09ga"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the data</span></span></span>
<span class="r-in"><span><span class="fu">download</span><span class="op">(</span><span class="va">x</span>, <span class="va">ringname</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ioannis Oikonomidis, Samis Trevezas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

