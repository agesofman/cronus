<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cronus">
<title>cronus • cronus</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="cronus">
<meta property="og:description" content="cronus">
<meta property="og:image" content="https://agesofman.github.io/cronus/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cronus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/cronus.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Data.html">Data</a>
    <a class="dropdown-item" href="../articles/Examples.html">Examples</a>
    <a class="dropdown-item" href="../articles/hermes.html">hermes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/agesofman/cronus/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>cronus</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/agesofman/cronus/blob/HEAD/vignettes/cronus.Rmd" class="external-link"><code>vignettes/cronus.Rmd</code></a></small>
      <div class="d-none name"><code>cronus.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette contains general information on the package. It is
intended to give the user a general picture of the package features,
presenting the database structure and the code architecture in a clear
and concise way.</p>
<div class="section level3">
<h3 id="database-structure">Database structure<a class="anchor" aria-label="anchor" href="#database-structure"></a>
</h3>
<p>The database takes the form of a 5-level structured directory. For a
specific region, data can belong to one of three sectors: agricultural,
environmental or satellite. Data are made available by a provider,
usually an organization or a lab, which organizes the data in one or
more products. Each product contains several variables of interest. You
can see the materials covered in the package by calling the function
<code><a href="../reference/get_branch.html">print_tree()</a></code>.</p>
<ol start="0" style="list-style-type: decimal">
<li>Parent Directory</li>
<li>Region, (e.g. nebraska)</li>
<li>Sector, (e.g. agricultural)</li>
<li>Provider, (e.g. nass)</li>
<li>Product, (e.g. cropmaps)</li>
<li>Variable, (e.g. cdl)</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/agesofman/cronus" class="external-link">cronus</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_branch.html">print_tree</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>For more information on the nature of the available data products,
check <code><a href="../reference/Database-class.html">?cronus::'Database-class'</a></code> or read
<code><a href="../articles/Data.html">vignette("Data")</a></code>.</p>
</div>
<div class="section level3">
<h3 id="code-architecture">Code architecture<a class="anchor" aria-label="anchor" href="#code-architecture"></a>
</h3>
<p>The package is built using the S4 class system, offering simplicity
to new R users as well as ease of development to the project core team.
Functions require a single object that holds all the necessary
information concerning the data of interest:</p>
<ol style="list-style-type: decimal">
<li>
<code>region</code>, an object of class <code>Region</code>
indicating the region of interest,</li>
<li>
<code>date</code>, an object of class <code>Date</code> indicating
the time of interest and</li>
<li>
<code>dir</code>, an object of class <code>character</code>
indicating the parent directory of the database.</li>
</ol>
<p>Now, it is straightforward to create any data object:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Region-class.html">Region</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"nebraska"</span>, type <span class="op">=</span> <span class="st">"us state"</span>, div <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"United States"</span>, state <span class="op">=</span> <span class="st">"Nebraska"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-07-15"</span><span class="op">)</span></span>
<span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Quickstats"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span>, dir <span class="op">=</span> <span class="va">dir</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Cropmaps"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span>, dir <span class="op">=</span> <span class="va">dir</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Daymet"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span>, dir <span class="op">=</span> <span class="va">dir</span><span class="op">)</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"Mod09ga"</span>, region <span class="op">=</span> <span class="va">region</span>, date <span class="op">=</span> <span class="va">date</span>, dir <span class="op">=</span> <span class="va">dir</span><span class="op">)</span></span></code></pre></div>
<p>The package functions, such as <code><a href="../reference/download.html">download()</a></code> are generic S4
functions, meaning that depending on the class of the object provided by
the user, they can have a different behavior. Therefore, the user only
needs to provide the product object along with the variables of interest
and the function will do the rest:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="fu">cronus</span><span class="fu">::</span><span class="va"><a href="../reference/download.html">download</a></span></span>
<span><span class="fu"><a href="../reference/download.html">download</a></span><span class="op">(</span><span class="va">w</span>, <span class="st">"progress"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/download.html">download</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"cdl"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/download.html">download</a></span><span class="op">(</span><span class="va">y</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tmin"</span>, <span class="st">"tmax"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/download.html">download</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span></code></pre></div>
<p>Functions that download or process data automatically store them in
the database. This means that the user will never have to deal with
directories explicitly.</p>
<p>Note: All functions that may require more than a few seconds are
equipped with a progress bar indicating the percentage completed, as
well as the estimated time remaining.</p>
<p>You are now ready to read <code><a href="../articles/Examples.html">vignette("Examples")</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="additional-features">Additional Features<a class="anchor" aria-label="anchor" href="#additional-features"></a>
</h2>
<div class="section level3">
<h3 id="database-path">Database path<a class="anchor" aria-label="anchor" href="#database-path"></a>
</h3>
<p>In order to avoid specifying the database directory in every single
function call, a variable named <code>path_demeter</code> can be added
to the environment variables, stored in the user .Renviron file. This
allows the user to specify only once the database directory, which will
load in the beginning of every R session. Function
<code><a href="../reference/set_path_demeter.html">set_path_demeter()</a></code> can be used to specify or change the
path.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/set_path_demeter.html">set_path_demeter</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="safety-and-keyrings">Safety and Keyrings<a class="anchor" aria-label="anchor" href="#safety-and-keyrings"></a>
</h3>
<p>Many organizations require credentials in order to allow data
download. Currently, the user needs to have an credentials for the
following services:</p>
<ul>
<li>
<a href="https://quickstats.nass.usda.gov/api/" title="USDA" class="external-link">USDA</a>: Provides access to NASS Quickstats data.</li>
<li>
<a href="https://ers.cr.usgs.gov/register/" title="USGS" class="external-link">USGS</a>:
Provides access to Modis Images. USGS is the sole science agency for the
Department of the Interior of United States.</li>
<li>
<a href="https://urs.earthdata.nasa.gov" title="EarthData" class="external-link">EarthData</a>: A repository of NASA’s earth
observation data-sets.</li>
<li>
<a href="https://scihub.copernicus.eu/dhus/#/self-registration" title="SciHub" class="external-link">SciHub</a>: A web service giving access to Copernicus’
scientific data hub.</li>
</ul>
<p>In order to safely store API keys and passwords, the R package
<code>keyring</code> is used. You can always store your credentials in
another safe place, just make sure they are <em>not</em> made publicly
available by mistake. A keyring is an account that can hold keys
(credentials) for various services. Once a keyring is created, the user
can start adding keys to it. The following example shows how to create a
keyring and store credentials.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="va">ringname</span> <span class="op">&lt;-</span> <span class="st">"my_ringname"</span></span>
<span> <span class="va">password</span> <span class="op">&lt;-</span> <span class="st">"my_password"</span></span>
<span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">create_keyring</a></span><span class="op">(</span><span class="va">ringname</span>, <span class="va">password</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">log_in</a></span><span class="op">(</span><span class="va">ringname</span>, <span class="va">password</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">add_key</a></span><span class="op">(</span>ringname <span class="op">=</span> <span class="va">ringname</span>,</span>
<span>         provider <span class="op">=</span> <span class="st">"usgs"</span>,</span>
<span>         username <span class="op">=</span> <span class="st">"usgs_username"</span>,</span>
<span>         password <span class="op">=</span> <span class="st">"usgs_password"</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">get_username</a></span><span class="op">(</span><span class="va">ringname</span>, <span class="st">"usgs"</span><span class="op">)</span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">get_password</a></span><span class="op">(</span><span class="va">ringname</span>, <span class="st">"usgs"</span><span class="op">)</span></span>
<span></span>
<span> <span class="fu"><a href="../reference/create_keyring.html">log_out</a></span><span class="op">(</span><span class="va">ringname</span><span class="op">)</span></span></code></pre></div>
<p>Functions that require credentials can automatically get them if the
user is logged in. Users are reminded to log out for safety reasons.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ioannis Oikonomidis, Samis Trevezas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
